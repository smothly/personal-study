# 인증

---

## 7-1 인증
- 네트워크와 시스템을 이용하는 사용자 또는 기기가 정식적으로 등록됐는지 확인하는 절차
- 인증을 통해 정식 사용자 이외에는 접근할수 없게 함
- 인증 방법
  - 패스워드 인증
  - 물건으로 인증
  - 바이오메트릭스 인중

---

## 7-2 암호화
- 데이터 도청을 방지
- **평문** = 암호화하기 전의 데이터
- **암호키**를 사용하여 평문을 암호화
  - 특정한 비트 수로 된 수치
- 암호화란 평문과 암호키로 수학전 연산을 거쳐 암호화된 데이터인 **암호문**을 생성
- 평문으로 되돌리는 조작을 **복호**라고 함
- 암호화 복호화를 할때의 수학적연산을 **암호화 알고리즘**이라고 함

---

## 7-3 공통키 암호 방식
- 공통키 암호 방식
  - 암호화 복호화에 같은 키 사용
  - 대칭키 암호방식 비밀키 암호방식과 같은 말
  - 데이터의 처리 부하가 작은 장점
  - 암호키의 공유가 어렵다는 단점
    - 제3자에게 알려지면 안되기 때문
  - **키 배송문제**
    - 암호 데이터가 규칙성을 가지면 해독될 위험이 있음
    - 어떻게 암호키를 공유하고 갱신하는지를 가리켜 키 배송문제라고 함
  - 주요 공통키 암호방식의 알고리즘으로는 **3DES**와 **AES**가 있음

---

## 7-4 공개키 암호 방식
- 키 배송문제를 해결하기 위한 암호화 방식
- **공개키**와 **비밀키**로 암호키 쌍을 만들어야 함
- 비밀키는 제3자에게 알려지지 않도록 관리
- 공개키로부터 비밀키를 계산할 수 있지만 계산하기 매우 어려움
- 공개키로 데이터를 암호화해서 전송하고 수신자는 비밀키로 데이터를 복호
- 누구나 암호화할 수 있지만 **복호화할 수 있는 것은 비밀키를 가진 사용자**

---

## 7-5 비밀키, RSA 암호, 타원곡선 암호
- 비밀키로 암호화하고 공개키로 복호할수 도 있음
- 송신자가 수신자에 대응하는 공개키를 가지고 있어야함
- 수신자는 데이터를 암호화해서 송신자를 확인할 수 있음
- 공개키 암호 방식의 알고리즘
  - RSA 암호: 소인수 분해의 어려움을 바탕
  - 타원곡선 암호: 타원곡선 상의 이산대수문제가 어려움을 바탕

---

## 7-6 디지털 서명
- **디지털 서명**: 데이터를 보낸 곳과 데이터가 변조되지 않았음을 확인하기 위함
- 데이터를 보낼 때 서명 데이터를 추가해서 보내서 수신자가 확인
- 디지털 서명의 내용은 데이터의 해시값을 **비밀키**로 암호화
- 원리
  - 송신자가 데이터에서 해시값을 생성
  - 생성한 해시값을 송신자의 비밀키로 암호화해 서명 데이터를 작성
  - 송신자는 데이터와 서명을 함께 수신자에게 전송
  - 수신자는 송신자의 공개키를 이용해 서명 데이터를 복호
  - 수신자는 수신한 데이터로부터 해시값을 생성
  - 수신자가 생성한 해시값과 서명의 해시값을 비교. 해시값이 같아야함
  - ![디지털 서명 과정 도식화](https://blog.kakaocdn.net/dn/bKFKoG/btqwJdazYUc/CkUF2u3GtgdKMmf77JlhQK/img.png)

---

## 7-7 디지털 인증서
- 공개키
  - 공개키 암호를 안심하고 이용하기 위해서는 공개키가 진짜라는 것을 확인해야 함
  - 악의를 가진 제3자가 수신자가 되어 공개키를 공개할 가능성도 있음
- 디지털 인증서
  - 공개키가 진짜인지 확인하고 공개키 암호를 안전하게 이용하기 위한 인프라 = **PKI(Public Key Infrastructure)**
  - PKI에서는 **인증기관(CA, Certification Authority)**에서 발행한 **디지털 인증서**로 공개키 암호를 안전하게 이용할 수 있음
  - CA끼리는 서로 신뢰하고 CA에 인증서 발행을 신청하면 신청 내용을 심사하여 디지털 인증서를 발행해줌.
  - 규격은 X_509가 일반적으로 사용됨
  - 디지털 인증서에는 CA가 보증하는 진짜 공개키가 포함되어 있음
  - ![디지털인증서 발급절차](https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/JqQ/image/ExRET4uanuEa6wPp1piGbvq0n4s)

---

## 7-8 SSL, 하이브리드 암호
- 개인정보를 웹서버에 보내는 것은 위험함. **SSL**이 중요
- SSL
  - 디지털 인증서로 통신상대방이 진짜라는 것을 확인
  - 상대방에게 보내는 데이터를 암호화해서 도청을 방지함
  - SSL로 암호화한 웹사이트는 웹브라우저 주소창에 자물쇠 아이콘이 표시
- SSL 암호화의 흐름
  - 공개키 암호 방식과 공통키 암호 방식을 조합한 **하이브리드 암호**
  - SSL 통신은 서버의 디지털 인증서를 가져옴
  - 공개키 암호화를 사용하면 부하가 커서 주고받는 데이터 자체를 공개키로 암호화하는 것은 아님
  - 공통키를 디지털 인증서에 포함된 공개키로 암호화(공동키를 생성하는 기반이 되는 데이터를 공개키로 암호화)
  - 나머지는 공통키를 사용한 공통키 암호방식으로 데이터를 암호화
  - ![SSL 암호화](https://i.imgur.com/NWmUEzb.png)

---

## 7-9 인터넷 VPN
- 거점간의 LAN끼리 통신하기 위해서는 WAN을 이용
- WAN 구축비용과 비교한면 인터넷 접속 비용은 훨씬 저렴
- 단 인터넷은 보안에 관한 위험이 있음
- 인터넷을 경유하여 거점 간 통신을 안전하게 할 수 있도록 **인터넷 VPN** 을이용
- 인터넷을 가상으로 사설 네트워크처럼 다루는 기술
- VPN 구현 방법
  - 거점 LAN 라우터 사이를 가상으로 연결(=터널링)
  - 거점 LAN 간의 통신은 터널을 경유하도록 라우팅
  - 터널을 경유하는 데이터를 암호화
- 데이터 암호화는 IPSec이나 SSL 과 같은 암호화 프로토콜을 이용
- 일반 인터넷은 데이터를 암호화 하지 않음
- ![VPN](https://cdn.adguard.com/public/Adguard/Website/Images/seo/ko/how_vpn_3.jpg)
