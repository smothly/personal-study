## 1.1 데이터 웨어하우스에서 데이터 플랫폼으로의 이동과 관련된 동향들

---

1. SaaS활용이 증가하면서 데이터 다양성(반정형, 비정형) 증대 => DW에서 처리하기 부적합
2. 모놀리식 -> 마이크로로 변함 => 하나의 디비가 아닌 각 서비스로부터 데이터를 수집해야함
3. 정형 데이터 만이 아닌 raw 데이터를 통한 분석이 늘어남

## 1.2 데이터 속도, 규모, 다양성이 증가하는 상황에서 데이터 웨어하우스의 한계

---

- 데이터의 다양성
  - 반정형 데이터의 예고 없는 스키마 변경
  - SQL, 프로시저 만으로는 테스팅, 추상화, 패키징, 공통 라이브러리 등의 프로그래밍 언어의 장점을 살리지 못함
- 데이터의 규모
  - 스토리지와 처리가 같이 있는 전통 DW구조에서는 데이터 규모가 늘어날 수록 확장하기 쉽지 않음
  - 확장이 된다 해도 비용적인 문제가 있음
- 데이터 속도
  - 실시간 요구가 늘어나고 있음
  - 기존 배치에서 스테이징 영역에 적재한 후 비즈니스 로직을 적용하고 그결과를 팩트 + 디멘션 테이블로 적재하는 과정 자체가 지연임
- 머신러닝 모델
  - raw데이터 같은 다양성이 필요
  - 실시간 처리는 DW에 직접적인 부담을 줌

## 1.3 데이터 레이크가 대안이 될 수 있을까?

---

- 원천으로 부터 나온 다양한 데이터 자산
- 하둡
  - 장점
    - 데이터의 다양성 해결: schema on read방식으로 웬만한 형식은 가능
    - 데이터의 규모: 분산 스토리지 구조로 스토리지 비용 절감 및 워크로드 분산 가능
    - 데이터의 속도: hive, mr, spark로 실시간 처리 가능
  - 단점
    - 여러가지 컴포넌트들이 엮여있어 매우 복잡한 시스템. 유지보수하기 어려움
    - DW와 비교해선 유연성이 높지만 반/비정형 데이터를 다루기에는 쉽지 않음
    - 각 컴포넌트에 대한 이해가 필요
    - 스토리지와 컴퓨팅이 분리되어 있지 않음
    - 하드웨어 확장이 쉽지 않음

## 1.4 퍼블릭 클라우드 활용

---

- 퍼블릭 클라우드를 통해 변화된 점
  1. 탄력적 리소스
  2. 모듈화: 스토리지와 컴퓨팅이 분리됨
  3. 사용량에 따른 지불
  4. 자본 투자/예산/상각 방식에서 운영 비용으로 전환
  5. 관리형 서비스의 보편화
  6. 즉시 사용 가능
  7. 차세데 클라우드 전용 처리 프레임워크
  8. 신규 기능 출시 속도
- 예시로는 EMR + S3 

## 1.5 클라우드, 데이터 레이크, 데이터 웨어하우스: 클라우드 데이터 플랫폼의 등장

---

- 데이터의 규모와 속도가 증가하는 추세라면 데이터 레이크와 웨어하우스를 적절히 결합한 형태가 좋음
  - 실시간 처리는 데이터 레이크 정제된 데이터는 데이터 웨어하우스
- 데이터 레이크 문제
  - 비즈니스 사용자가 사용하기 불편함
  - 데이터 관리가 잘 통제되지 않음

## 1.6 클라우드 데이터 플랫폼의 building block

---

- ![데이터플랫폼](https://www.montecarlodata.com/wp-content/uploads/2022/08/What-is-a-data-platform-and-how-to-build-one.png)
- 수집
  - RDB, NoSQL, File, API 등 데이터 소스가 다양함
  - 수집계층의 중요한 특징은 데이터를 수정 변환되면 안됨. 이유는 lineage tracking reprocessing할 수 있도록 위함
- 스토리지
  - 다양성, 확장성, 비용저렴해야 함
  - DB나 NAS는 저장비용이 비싸고 확장이 쉽지 않음
  - 클라우드 스토리지의 장점
    - fully managed service
    - 탄력성이 높음. 스토리지 늘리고 줄이기 쉬움
    - 사용한 만큼 부과
    - 컴퓨팅 리소스가 없음
- 처리
  - SQL엔진이 주로 쓰이나, 프로그래밍적 언어의 장점(추상화, 모듈화, 테스팅, 클렌징, 유효성 검사 등)을 사용하지 못함
  - SQL은 RDBMS엔진 내부에서 모든 로직이 이루어짐
  - 배치 처리는 스토리지에 먼저 저장되어 처리되나 스트리밍 처리는 바로 처리하게 되고 데이터는 보관만 함
- 서비스 
  - 데이터를 엑세스하고 분석
  - 머신러닝모델 구축
  - 데이터 변환 프로토타이핑
  - 어플리케이션에 데이터 주기

## 1.7 클라우드 데이터 플랫폼이 세 가지 V를 다루는 방법

---

- 다양성 Variety
  - 수집 계층에서는 Kafka connect, Nifi와 같이 플러그 앤 플레이 기능
  - 스토리지 계층에서는 클라우드 스토리지에 어떤 유형이든 저장 가능
  - 처리 계층에서는 spark, beam으로 SQL의 제약점들을 극복할 수 있음
- 규모 Volume
  - 온프레미스에서는 초기 대규모 투자가 필요
  - 온디맨드로 유연성 있는 스토리지를 구축 가능
  - DW보다 탄력성이 좋음. 대량의 데이터를 처리하고 바로 종료하면 됨.
  처리 과정에서 저가 스토리지를 사용하고 리소스 경합이 일어나지 않음
  클라우드 DW는 이미 스트리지를 별도로 두고 있음
- 속도 Velocity
  - 실시간과 배치 워크로드를 따로 운영하여 간섭이 없게할 수 있음
  - 실시간으로 처리한 데이터를 용도에 맞게 사용하기
    - 애플리케이션에서 사용하기 위해 NoSQL로 데이터 보내기
    - 저장이 목적이면 스토리지로
    - 분석 목적이면 DW로
  - 머신러닝 모델은 리소스가 많이 필요. 기존 리소스에 영향을 주는 일이 다반사여서 데이터 레이크를 활용하는 것이 좋음
- 추가적인 V: 정확성 Veracity 과 가치 Value
  - 데이터 레이크
    - 장점은 더 많은 양의 데이터를 사용자에게 제공한다는 점
    - 단점은 클렌징 상태, 구조화 수준 등 관리 관점에서는 좋지 않음
  - 데이터 가치와 정확성의 적절한 균형점을 찾아야 함
    - 데이터 플랫폼적 관점으로 해결해야 함. 예를 들면 데이터 웨어하우스에 보내지는 검증과정을 만들고, 통과된 작업만 데이터 레이크로부터 DW로 보내는 작업을 해야함

## 1.8 공통 유스 케이스

---

- 360도로 고객 뷰를 확보: SNS, 온라인 채팅, 고객센터 등 고객과의 다양한 접점을 하나의 뷰로 통합 관리하여 비즈니스 개선
- IOT 영역: 장비이상 예측, RFID 태크로 선수 위치 성적 모니터링
- AI/ML: 무제한의 원시 데이터는 데이터 과학자의 꿈을 실현해줄 수 있음

## 요약

---

- 정확한 인사이트 + 비용 효율 + 3V난이도 증가 => 기존 DW의 한계점 도달
- 유연성 + 탄력성으로 다양한 데이터 분석 가능
- 각 계층을 loosed-coupling architecture로 가져갈 수 있음