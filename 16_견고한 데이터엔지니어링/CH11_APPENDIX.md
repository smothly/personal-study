# CH11 APPENDIX

---

## 직렬화

---

- 성능을 개선할 수 있음
- row-based serialization
  - csv
  - xml
  - json
  - avro
    - binary encoding
    - schema를 json으로 지정함
- col-based serialization
  - 각 열을 고유한 파일 집합에 저장함
  - 열은 반복되는 값이 많아 압축하기 좋음
  - 개별 레코드 접근은 쉽지 않음
  - parquet
    - 중첩된 데이터 지원
    - 이식성이 뛰어남
    - snappy와 같은 속도에 최적화된 압축과 널리 사용됨
  - ORC
  - apache arrow or in-memory serialization
    - 인메모리 처리와 익스포트에 모두 적합한 바이너리 형식을 직렬화를 생각해보기
    - 중첩된 데이터의 경우 shredding이라는 기술을 사용하여 각 위치를 별도의 열로 매핑함
    - 프로그램언어마다 데이터를 직렬화하는 방식이 달라 라이브러리화하여 상호 운영성을 구현
- hybrid serialization
  - hudi
    - Hadoop Update Deleete Incremental
    - CDC테이블로 많이 사용하여 스트림은 행 중심의 직렬화 형식으로 캡처
    - 쿼리는 컬럼 및 행 지향 둘다 쓰임
    - 주기적으로 행 파일과 열 파일을 갱신된 컬럼형 파일로 결함하는 **리패킹 프로세스가 실행**됨
  - iceberg
    - 테이블을 구성하는 모든 파일 추적 가능
    - 스키마 진화를 지원함

## 데이터베이스 스토리지 엔진

---

- 직렬화, 데이터의 물리적 배열, 인덱스 등을 포함하여 데이터가 디스크에저장되는 방식의 모든 측면을 관리함
- SSD의 특성을 잘 지원하도록 최적화됨
- 컬럼형 스토리지를 지원하도록 변화중

## 압축

---

- 자주 등장하는 단어를 해당 토큰으로 바꾸고 압축하고 토근을 다시 단어로 바꾸어 압축을 해제
- lossless compression algorithm을 사용함
- 오디오, 이미지, 비디오는 손실 압축 알고리즘을 사용
- gzip, bzip은 텍스트 데이터를 잘 압축하여 json, csv, xml등에 많이 쓰임
- snappy, zstandard, lz4등 cpu와 속도를 중요시하는 차세대 알고리즘도 많음

## 클라우드 네트워크 토폴리지

---

- 데이터 egress 비용
  - 데이터의 고착성을 높여옴
- 가용영역
  - 네트워크 토폴리지의 최소 단위
  - 영역내에서는 가장 높은 대역폭과 지연 시간을 지원함
- 리전
  - 두개 이상의 가용 영역으로 구성된 모음
  - 리전간은 비용이 발생함
- 다중리전(GCP)
  - 리전을 통합함
  - 프리미엄 수준의 네트워킹
- 클라우드로의 직접 네트워크 연결
  - Direct Connect

## CDN

---

- 고객에게 데이터 자산을 전송할 때 획기적인 성능 향상과 할인 혜택

## 데이터 이그레스 비용의 미래

---

- 점차 줄여질 것으로 예상 ex) 오라클

## 에필로그

---

- 데이터 성숙도에 따라 기술을 택할 것
- 고품질로 이어지는 데이터 책임
  - 에어플로의 DAG가 많아지면서 문제 - conventon, common variable, db password 등
  - 데이터 관련 작업의 전체적인 정책을 결정하고 프로젝트를 이끌어 줄 담당자가 필요
- 잘못된 관행에 따른 데이터 처리 문제
  - 데이터 결과물을 기다리지만 사일로를 먼저 허물어야 함
  - 정확하지 않은 데이터
    - 담당자 변화
    - 집계할 때마다의 조건 변화
    - 원시 데이터와의 결과가 다름
    - 
  - 